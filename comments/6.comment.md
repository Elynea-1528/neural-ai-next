üöÄ COMMAND: OMEGA INSTALLER - UNIFIED & AUTOMATED
"Code Agent! (Architect fel√ºgyelettel).
A FELADAT: A teljes telep√≠t√©si folyamat (K√∂rnyezet + Br√≥kerek) egyetlen 'okos' Python scriptbe t√∂rt√©n≈ë konszolid√°l√°sa.
K√ñVETELM√âNY: Teljes automatiz√°l√°s (Zero-Click logic), hardver detekt√°l√°s, √©s a br√≥ker telep√≠t≈ëk automatikus elind√≠t√°sa.
HAJTSD V√âGRE A K√ñVETKEZ≈ê L√âP√âSEKET SZIGOR√ö SORRENDBEN:
√öJ BRANCH L√âTREHOZ√ÅSA (Git):
git checkout -b refactor/unified-installer
1. TUD√ÅSTRANSZFER (Miel≈ëtt b√°rmit t√∂r√∂ln√©l):
Olvasd be a scripts/install/scripts/setup_wine_mt5.sh √©s scripts/install/scripts/setup_brokers.sh f√°jlokat.
Memoriz√°ld a Wine prefix be√°ll√≠t√°sokat √©s az URL-eket.
2. pyproject.toml √öJRA√çR√ÅSA (Modern Standard):
√çrd fel√ºl a f√°jlt tiszta f√ºgg≈ës√©gi csoportokkal.
[project.dependencies]: fastapi, uvicorn, websockets, pydantic, sqlalchemy[asyncio], aiosqlite, alembic, structlog, typer, requests. (NE rakj ide hardverf√ºgg≈ë csomagokat: torch, numpy, pandas, polars - ezeket a script int√©zi!).
[project.optional-dependencies]:
dev: pytest, ruff, mypy, pandas-stubs, types-requests.
trader: ib_insync, vectorbt.
jupyter: jupyterlab, notebook, tensorboard, matplotlib, plotly.
3. scripts/install.py IMPLEMENT√ÅL√ÅSA (The Master Script):
√çrj egy robusztus Python scriptet, ami a k√∂vetkez≈ëket teszi felhaszn√°l√≥i k√©rd√©s n√©lk√ºl:
A) Hardver Detekt√°l√°s & Core Telep√≠t√©s:
Ellen≈ërizze: Van neural-ai-next Conda env? Ha nincs, hozza l√©tre (Python 3.12).
GPU Check (nvidia-smi):
Ha van: conda install -y pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia
Ha nincs: conda install -y pytorch torchvision torchaudio cpuonly -c pytorch
AVX2 Check (/proc/cpuinfo):
Ha van: pip install polars pyarrow
Ha nincs: pip install fastparquet (√©s pandas fallback).
Alapok: conda install -y numpy pandas scikit-learn
Csomagok: pip install -e .[dev,trader,jupyter]
B) Broker Auto-Install (A r√©gi scriptek logik√°ja alapj√°n):
Hozzon l√©tre egy downloads/ mapp√°t a gy√∂k√©rben.
JForex 4:
Let√∂lt√©s: https://dukascopy-eu.cdn.online-trading-solutions.com/installer4/dukascopy-eu/JForex4_unix_64_JRE_bundled.sh
chmod +x
Futtat√°s: Ind√≠tsa el h√°tt√©rfolyamatk√©nt (subprocess.Popen), hogy a Python script ne blokkoljon.
IBKR TWS:
Let√∂lt√©s: https://download2.interactivebrokers.com/installers/tws/latest/tws-latest-linux-x64.sh
chmod +x
Futtat√°s: Ind√≠tsa el h√°tt√©rfolyamatk√©nt.
MetaTrader 5 (Dukascopy):
Ellen≈ërizze: Van wine telep√≠tve? (shutil.which('wine')). Ha nincs, logoljon Error-t, de ne √°lljon le.
Ha van Wine: √Åll√≠tsa be a WINEPREFIX=~/.mt5 k√∂rnyezeti v√°ltoz√≥t (izol√°lt k√∂rnyezet).
Let√∂lt√©s: https://download.mql5.com/cdn/web/dukascopy.bank.sa/mt5/dukascopy5setup.exe
Futtat√°s: wine downloads/dukascopy5setup.exe (h√°tt√©rben).
4. TAKAR√çT√ÅS (Cleanup):
Most, hogy a logika √°tker√ºlt a Pythonba, t√∂r√∂ld a r√©gi scripts/install mapp√°t √©s az environment.yml-t.
5. DOKUMENT√ÅCI√ì:
Friss√≠tsd a README.md-t: "Telep√≠t√©s: python scripts/install.py".
6. Z√ÅR√ÅS:
git add . && git commit -m "feat(infra): unified zero-touch installer with auto-broker setup"
IND√çTSD A FOLYAMATOT A R√âGI SCRIPTEK BEOLVAS√ÅS√ÅVAL!"