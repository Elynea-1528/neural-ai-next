üöÄ COMMAND 12: PHASE 1 - DEEP COVERAGE & FIX (PART 2)
"Code Agent! (Architect fel√ºgyelettel).
A MUNK√ÅD NEM V√âGLEGES. A 84% √©s a 52 hiba (Failed+Error) ELFOGADHATATLAN.
A FELADAT: A k√©t legkritikusabb modul (EventBus, FileStorage) teljes rendbet√©tele.
Nem l√©p√ºnk tov√°bb, am√≠g ezeknek a moduloknak a tesztjei nem 100% z√∂ldek √©s a coverage nem √©ri el a 95%-ot.
HAJTSD V√âGRE A K√ñVETKEZ≈êKET (SZIGOR√ö SORRENDBEN):
1. EVENT BUS JAV√çT√ÅS (neural_ai/core/events/bus.py):
Helyzet: 62 sor teszteletlen.
Feladat: √çrd √°t/b≈ëv√≠tsd a tests/core/events/test_bus.py-t.
K√∂vetelm√©ny:
Mockold ki a ZeroMQ-t (unittest.mock), ne akarj val√≥di socketet nyitni (az okozza a hib√°kat!).
Teszteld le a hiba√°gakat: Mi van, ha a publish timeoutol? Mi van, ha a subscribe callback hib√°t dob?
C√©l: pytest tests/core/events/test_bus.py -> PASSED.
2. FILE STORAGE JAV√çT√ÅS (neural_ai/core/storage/implementations/file_storage.py):
Helyzet: 92 sor teszteletlen (Katasztr√≥fa!).
Feladat: Hozz l√©tre egy ROBUSZTUS tesztet: tests/core/storage/implementations/test_file_storage_full.py.
K√∂vetelm√©ny:
Teszteld a PermissionError-t (mockold az os.access-t).
Teszteld az InsufficientDiskSpaceError-t (mockold az os.statvfs-t).
Teszteld a StorageFormatError-t (pr√≥b√°lj menteni .xyz f√°jlt).
C√©l: Minden kiv√©telt dobj meg tesztk√∂rnyezetben!
3. BACKEND JAV√çT√ÅSOK (Pandas/Polars):
A jelent√©s szerint itt is vannak "tov√°bbi hi√°nyz√≥ sorok".
Futtasd le a tests/core/storage/backends/ teszteket, √©s jav√≠tsd a test_pandas_backend.py indent√°ci√≥s hib√°it.
4. VALID√ÅCI√ì:
Futtasd: pytest
ELV√ÅR√ÅS: A Failed √©s Error sz√°ml√°l√≥nak 0-nak kell lennie.
Ha ez megvan, futtass √∫jra Coverage m√©r√©st.
5. Z√ÅR√ÅS:
git add . && git commit -m "fix(core): resolve failures in EventBus and Storage tests, boost coverage"
KEZDD AZ EVENT BUS MOCKOL√ÅS√ÅVAL!"
