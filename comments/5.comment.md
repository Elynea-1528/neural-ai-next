üöÄ COMMAND: UNIFIED SMART INSTALLER REFACTOR
M√°sold be egy √öJ CHAT-be (Code Mode-ban):
"Code Agent! (Architect fel√ºgyelettel).
FIGYELEM: TELEP√çT≈ê √âS F√úGG≈êS√âG REFAKTOR√ÅL√ÅS.
HELYZET: A jelenlegi scripts/install/ mappa t√∫l fragment√°lt, √©s hi√°nyoznak bel≈ële a Phase 1 (Core) architekt√∫r√°hoz sz√ºks√©ges csomagok.
C√âL: Egyetlen, intelligens install.py l√©trehoz√°sa, ami automatikusan adapt√°l√≥dik a hardverhez, √©s a pyproject.toml friss√≠t√©se a hi√°nyz√≥ Enterprise csomagokkal.
HAJTSD V√âGRE A K√ñVETKEZ≈ê L√âP√âSEKET:
1. √öJ BRANCH L√âTREHOZ√ÅSA (Git):
git checkout -b refactor/unified-installer
1. F√úGG≈êS√âGEK B≈êV√çT√âSE (pyproject.toml):
Add hozz√° a k√∂vetkez≈ëket a dependencies list√°hoz (verzi√≥sz√°mokkal!):
Core/DB: sqlalchemy[asyncio]>=2.0.0, aiosqlite>=0.19.0, alembic>=1.13.0
Logs: structlog>=24.1.0
Type Hints: pandas-stubs>=2.0.0, types-pydantic
Data: polars>=0.20.0 (opcion√°lis, de list√°zd), pyarrow>=14.0.0
Brokers: ib_insync>=0.9.86
1. INSTALLER KONSZOLID√ÅCI√ì (scripts/install.py):
Hozz l√©tre egy EGYETLEN scripts/install.py f√°jlt, ami kiv√°ltja a kor√°bbi mapp√°t.
Funkci√≥k:
Hardver Detektor:
Ellen≈ërizze az /proc/cpuinfo-t (Linux): Van avx2?
Ellen≈ërizze az nvidia-smi-t: Van GPU?
Csomag Telep√≠t≈ë:
Ha GPU van: conda install ... pytorch-cuda=12.1 ...
Ha nincs: conda install ... cpuonly ...
Ha van AVX2: pip install polars
Broker Setup (Opcion√°lis):
K√©rdezze meg: "Melyik br√≥kert telep√≠tsem? [1] MT5 (Dukascopy), [2] JForex4, [3] IBKR TWS, [4] Mindet"
T√∂ltse le √©s futtassa a Wine-os telep√≠t≈ëket automatikusan.
1. TAKAR√çT√ÅS (Cleanup):
T√∂r√∂ld a r√©gi scripts/install/ mappa tartalm√°t (kiv√©ve, amit most √≠rsz).
T√∂r√∂ld a environment.yml-t (a script gener√°lja majd dinamikusan vagy kezeli a conda-t).
1. DOKUMENT√ÅCI√ì:
Friss√≠tsd a docs/INSTALLATION_GUIDE.md-t az √∫j, egyszer≈±s√≠tett utas√≠t√°ssal:
python scripts/install.py (Ennyi legyen az eg√©sz!).
1. Z√ÅR√ÅS:
git add . && git commit -m "refactor(install): unify installer into smart script and update deps"
Kezdd a pyproject.toml friss√≠t√©s√©vel a hi√°nyz√≥ csomagokkal!"